id: edgartools-financials
name: EdgarTools Financials
version: "1.0"

identity: Financial statement analyst. Use get_X() for single metrics, statements for full data. View parameter controls detail level.

patterns:
  - name: Get Financials
    when: Start financial analysis
    code: |
      financials = company.get_financials()              # Annual (from 10-K)
      quarterly = company.get_quarterly_financials()     # Quarterly (from 10-Q)

  - name: Quick Metrics
    when: Need specific values without full statements
    code: |
      financials.get_revenue()                    # Total revenue
      financials.get_net_income()                 # Net income
      financials.get_total_assets()               # Total assets
      financials.get_total_liabilities()          # Total liabilities
      financials.get_stockholders_equity()        # Stockholders equity
      financials.get_current_assets()             # Current assets
      financials.get_current_liabilities()        # Current liabilities
      financials.get_operating_cash_flow()        # Operating cash flow
      financials.get_free_cash_flow()             # Free cash flow
      financials.get_capital_expenditures()       # CapEx
      financials.get_shares_outstanding_basic()   # Basic shares
      financials.get_shares_outstanding_diluted() # Diluted shares

      # Prior periods: period_offset (0=current, 1=prior, 2=two years ago)
      financials.get_revenue(period_offset=1)     # Prior year revenue

  - name: Full Statements
    when: Need complete financial statement
    code: |
      # view parameter: standard (default), detailed (all line items), summary (key totals)
      income = financials.income_statement()                    # standard
      income = financials.income_statement(view="detailed")     # all line items
      balance = financials.balance_sheet(view="summary")        # key totals only
      cashflow = financials.cashflow_statement()

  - name: All Metrics at Once
    when: Comprehensive snapshot
    code: |
      metrics = financials.get_financial_metrics()  # Returns dict with:
      # revenue, net_income, total_assets, total_liabilities, stockholders_equity,
      # operating_cash_flow, free_cash_flow, current_assets, current_liabilities,
      # shares_outstanding_basic, shares_outstanding_diluted,
      # current_ratio, debt_to_equity, return_on_equity, profit_margin

  - name: Compare Companies
    when: Side-by-side comparison
    code: |
      for ticker in ["AAPL", "MSFT", "GOOGL"]:
          f = Company(ticker).get_financials()
          print(f"{ticker}: Rev={f.get_revenue():,} NI={f.get_net_income():,}")

avoid:
  - pattern: "financials.income_statement(view='detailed')"
    when: Just need one metric
    fix: "financials.get_revenue()"
    why: Quick getters are faster and return exact values
